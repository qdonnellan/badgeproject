{% extends 'user_base.html' %}

{% block body %}

<div>
  <div class="row">
    <h4 class="pull-left">
      <div class="badge-div pull-left">
        <div class="badge-new" style="background: {{badge.background}}; color: {{badge.icon_color}}">
          <div class="badge-icon-container"><i class="icon-{{badge.icon}}"></i></div>
        </div>
      </div>
    </h4>
    <div class="single-badge-description">
      <h1>{{badge.name}}</h1>
      <hr>
      <p>{{badge.requirement}}</p>
      <p><a href="/badge_creator/{{badge.key.id()}}">Edit Badge</a></p>
    </div>
  </div>
  <div class="row" id ="badge-course-list">
    {% include 'badge_course_list.html' %}
  </div>
  <div id="stuffes">
  </div>
</div>

<script type="text/javascript">
  $('#badge-course-list').on('submit', '.achievement-form', function(e){
    e.preventDefault();
    var form = $(this).closest('form');
    $.ajax({
      type: form.attr('method'),
      url: form.attr('action'),
      data: form.serialize(),
      cache: false,
      success: function(data, status, xHTTP){
        $('#badge-course-list').html(data);
      }
    });
    return false;
  });
</script>

{% endblock %}